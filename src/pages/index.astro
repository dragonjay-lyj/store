---
import MainLayout from '../layouts/MainLayout.astro';
import ProductList from '../components/home/ProductList.jsx';
import SearchBar from '../components/home/SearchBar.jsx';
import { getCollection } from 'astro:content';

const products = await getCollection('products');
const title = "二次元商品商城 - 首页";
const description = "探索最新的二次元手办、周边和收藏品，满足您的动漫爱好！";
---

<MainLayout title={title} description={description}>
  <section class="mb-10 animate-fade-in">
    <!-- 欢迎横幅 -->
    <div class="mb-8 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl shadow-lg p-6 md:p-8 flex flex-col md:flex-row items-center justify-between overflow-hidden animate-fade-in-down">
      <div class="mb-4 md:mb-0 md:w-1/2 z-10">
        <h1 class="text-3xl md:text-5xl font-bold mb-2 flex items-center gap-3">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-8 h-8 md:w-12 md:h-12 text-indigo-200"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"
            />
          </svg>
          欢迎来到二次元商品商城
        </h1>
        <p class="text-lg md:text-xl text-indigo-100">探索最新的手办、周边和收藏品，满足您的动漫爱好！</p>
      </div>
      <div class="md:w-1/2 flex justify-center z-10">
        <button
          class="px-6 py-3 bg-white text-indigo-600 font-bold rounded-lg shadow-md hover:bg-gray-100 hover:shadow-lg transition-all duration-200 transform hover:scale-105"
          onclick="window.scrollTo({ top: document.getElementById('products').offsetTop, behavior: 'smooth' })"
        >
          立即探索
        </button>
      </div>
      <!-- 背景装饰 -->
      <div class="absolute top-0 right-0 w-1/3 h-full opacity-20">
        <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" class="absolute top-0 right-0 w-full h-full">
          <path
            fill="#ffffff"
            d="M44.7,-76.5C58.2,-69.2,69.7,-56.5,75.5,-42.1C81.3,-27.7,81.4,-11.5,79.2,4.6C77,20.7,72.5,36.6,64.1,50.1C55.7,63.6,43.4,74.7,29.2,80.5C14.9,86.3,-1.4,86.8,-16.9,82.2C-32.4,77.6,-47.1,67.9,-58.5,55.1C-69.9,42.3,-78,26.4,-80.5,9.2C-83,-8,-80,-26.3,-72.1,-42.4C-64.2,-58.5,-51.4,-72.4,-36.7,-79.7C-22,-87,-5.4,-87.7,11.9,-83.5C29.2,-79.3,47.2,-70.2,44.7,-76.5Z"
            transform="translate(100 100)"
          />
        </svg>
      </div>
    </div>

    <!-- 搜索栏 -->
    <div class="mb-8">
      <SearchBar products={products} client:load />
    </div>

    <!-- 商品列表 -->
    <div id="products" class="mb-8">
      <ProductList products={products} client:load />
    </div>
  </section>
</MainLayout>